knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(purrr)
library(dplyr)
folder_path <- '~/Performance Analysis/Form Submission/2024/Jan22_Jan29/Data'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
combo_data <- purrr::map_df(filenames,
~read.csv(.x, stringsAsFactors = FALSE) %>% mutate(filename = .x))
combo_data <- combo_data %>%
mutate(filename = as.character(filename)) %>%
mutate(filename = str_remove(filename, "^C:/.*export-")) %>%
rename(phone_number = `手机号码`) %>%
mutate(phone_number = str_replace_all(phone_number, "-", "") %>%
str_replace_all("[^0-9]", ""))
folder_path <- '~/Performance Analysis/Form Submission/2024/Jan22_Jan29/Data'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
combo_data <- purrr::map_df(filenames,
~read_csv(.x) %>% mutate(filename = .x))
common_path <- dirname(filenames[1])
combo_data <- combo_data %>%
mutate(filename = as.character(filename)) %>%
mutate(filename = str_replace(filename, common_path, ""),
filename = str_remove(filename, "/")) |>
mutate(filename = str_replace_all(filename, "\\([0-9a-f]+\\)-\\d{4}-\\d{2}-\\d{2}\\.csv", "")) %>%
rename(phone_number = `手机号码`) %>%
mutate(phone_number = str_replace_all(phone_number, "-", "") %>%
str_replace_all("[^0-9]", "")) %>%
mutate(
channel = case_when(
str_detect(filename, "(?i)SEM|Blog Pages Contact us") ~ "SEM",
str_detect(filename, "(?i)SEO|Contact us") ~ "SEO",
str_detect(filename, "(?i)sMS") ~ "SMS",
str_detect(filename, "(?i)Brizo|(?i)DM") ~ "DM"))
View(combo_data)
colnames(combo_data)
combo_data <- combo_data |>
mutate(filename = as.character(filename)) |>
mutate(filename = str_replace(filename, common_path, ""),
filename = str_remove(filename, "/")) |>
mutate(filename = str_replace_all(filename, "\\([0-9a-f]+\\)-\\d{4}-\\d{2}-\\d{2}\\.csv", "")) |>
rename(phone_number = `手机号码`) |>
mutate(phone_number = str_replace_all(phone_number, "-", "") |>
str_replace_all("[^0-9]", "")) |>
mutate(
channel = case_when(
str_detect(filename, "(?i)SEM|Blog Pages Contact us") ~ "SEM",
str_detect(filename, "(?i)SEO|Contact us") ~ "SEO",
str_detect(filename, "(?i)sMS") ~ "SMS",
str_detect(filename, "(?i)Brizo|(?i)DM") ~ "DM")) |>
select(-C("...1","...10","...12"), channel, everything())
folder_path <- '~/Performance Analysis/Form Submission/2024/Jan22_Jan29/Data'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
combo_data <- purrr::map_df(filenames,
~read_csv(.x) |> mutate(filename = .x))
common_path <- dirname(filenames[1])
combo_data <- combo_data |>
mutate(filename = as.character(filename)) |>
mutate(filename = str_replace(filename, common_path, ""),
filename = str_remove(filename, "/")) |>
mutate(filename = str_replace_all(filename, "\\([0-9a-f]+\\)-\\d{4}-\\d{2}-\\d{2}\\.csv", "")) |>
rename(phone_number = `手机号码`) |>
mutate(phone_number = str_replace_all(phone_number, "-", "") |>
str_replace_all("[^0-9]", "")) |>
mutate(
channel = case_when(
str_detect(filename, "(?i)SEM|Blog Pages Contact us") ~ "SEM",
str_detect(filename, "(?i)SEO|Contact us") ~ "SEO",
str_detect(filename, "(?i)sMS") ~ "SMS",
str_detect(filename, "(?i)Brizo|(?i)DM") ~ "DM")) |>
select(-C("...1","...10","...12"), channel, everything())
common_path <- dirname(filenames[1])
combo_data <- combo_data |>
mutate(filename = as.character(filename)) |>
mutate(filename = str_replace(filename, common_path, ""),
filename = str_remove(filename, "/")) |>
mutate(filename = str_replace_all(filename, "\\([0-9a-f]+\\)-\\d{4}-\\d{2}-\\d{2}\\.csv", "")) |>
rename(phone_number = `手机号码`) |>
mutate(phone_number = str_replace_all(phone_number, "-", "") |>
str_replace_all("[^0-9]", "")) |>
mutate(
channel = case_when(
str_detect(filename, "(?i)SEM|Blog Pages Contact us") ~ "SEM",
str_detect(filename, "(?i)SEO|Contact us") ~ "SEO",
str_detect(filename, "(?i)sMS") ~ "SMS",
str_detect(filename, "(?i)Brizo|(?i)DM") ~ "DM")) |>
select(-"...1",-"...10",-"...12", channel, everything())
View(combo_data)
common_path <- dirname(filenames[1])
combo_data <- combo_data |>
mutate(filename = as.character(filename)) |>
mutate(filename = str_replace(filename, common_path, ""),
filename = str_remove(filename, "/")) |>
mutate(filename = str_replace_all(filename, "\\([0-9a-f]+\\)-\\d{4}-\\d{2}-\\d{2}\\.csv", "")) |>
rename(phone_number = `手机号码`) |>
mutate(phone_number = str_replace_all(phone_number, "-", "") |>
str_replace_all("[^0-9]", "")) |>
mutate(
channel = case_when(
str_detect(filename, "(?i)SEM|Blog Pages Contact us") ~ "SEM",
str_detect(filename, "(?i)SEO|Contact us") ~ "SEO",
str_detect(filename, "(?i)sMS") ~ "SMS",
str_detect(filename, "(?i)Brizo|(?i)DM") ~ "DM")) |>
select(channel, everything(),-"...1",-"...10",-"...12")
folder_path <- '~/Performance Analysis/Form Submission/2024/Jan22_Jan29/Data'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
combo_data <- purrr::map_df(filenames,
~read_csv(.x) |> mutate(filename = .x))
common_path <- dirname(filenames[1])
combo_data <- combo_data |>
mutate(filename = as.character(filename)) |>
mutate(filename = str_replace(filename, common_path, ""),
filename = str_remove(filename, "/")) |>
mutate(filename = str_replace_all(filename, "\\([0-9a-f]+\\)-\\d{4}-\\d{2}-\\d{2}\\.csv", "")) |>
rename(phone_number = `手机号码`) |>
mutate(phone_number = str_replace_all(phone_number, "-", "") |>
str_replace_all("[^0-9]", "")) |>
mutate(
channel = case_when(
str_detect(filename, "(?i)SEM|Blog Pages Contact us") ~ "SEM",
str_detect(filename, "(?i)SEO|Contact us") ~ "SEO",
str_detect(filename, "(?i)sMS") ~ "SMS",
str_detect(filename, "(?i)Brizo|(?i)DM") ~ "DM")) |>
select(channel, everything(),-"...1",-"...10",-"...12")
View(combo_data)
combo_data |>
group_by(channel) |>
summarize(form_fill_numbers=n()) |>
arrange(desc(form_fill_numbers)) -> summary_table
write_csv(summary_table, "form_fill_counts_by_channel.csv")
write_csv(combo_data,"all_form_fill.csv", na = "")
View(combo_data)
knitr::opts_chunk$set(echo = TRUE)
folder_path <- '~/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
sms_combo_data <- purrr::map_df(filenames,
~read.csv(.x, stringsAsFactors = FALSE) %>% mutate(filename = .x))
folder_path <- '~/Performance Analysis/SMS/SMS Analysis(01-03-24~01-07-24)/Raw-Data-Jan-SMS/list_all'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
list_whole <- purrr::map_df(filenames,
~read.csv(.x, stringsAsFactors = FALSE) %>% mutate(filename = .x))
list_whole <- list_whole |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis\\(01-03-24~01-07-24\\)/Raw-Data-Jan-SMS/list_all/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Master') ~ 'Masterlist',
str_detect(filename, 'Print Shop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE')) |>
mutate(phone_number = sub("^1", "", phone_number))
View(list_whole)
folder_path <- '~/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
sms_combo_data <- purrr::map_df(filenames,
~read.csv(.x, stringsAsFactors = FALSE) %>% mutate(filename = .x))
View(sms_combo_data)
list_whole <- list_whole |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Master') ~ 'Masterlist',
str_detect(filename, 'Print Shop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE')) |>
mutate(phone_number = sub("^1", "", phone_number))
list_whole <- sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Master') ~ 'Masterlist',
str_detect(filename, 'Print Shop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE')) |>
mutate(phone_number = sub("^1", "", phone_number))
View(sms_combo_data)
combo_data |>
group_by(channel) |>
summarize(form_fill_numbers=n()) |>
arrange(desc(form_fill_numbers)) -> summary_table
folder_path <- '~/Performance Analysis/Form Submission/2024/Jan22_Jan29/Data'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
combo_data <- purrr::map_df(filenames,
~read_csv(.x) |> mutate(filename = .x))
common_path <- dirname(filenames[1])
combo_data <- combo_data |>
mutate(filename = as.character(filename)) |>
mutate(filename = str_replace(filename, common_path, ""),
filename = str_remove(filename, "/")) |>
mutate(filename = str_replace_all(filename, "\\([0-9a-f]+\\)-\\d{4}-\\d{2}-\\d{2}\\.csv", "")) |>
rename(phone_number = `手机号码`) |>
mutate(phone_number = str_replace_all(phone_number, "-", "") |>
str_replace_all("[^0-9]", "")) |>
mutate(
channel = case_when(
str_detect(filename, "(?i)SEM|Blog Pages Contact us") ~ "SEM",
str_detect(filename, "(?i)SEO|Contact us") ~ "SEO",
str_detect(filename, "(?i)sMS") ~ "SMS",
str_detect(filename, "(?i)Brizo|(?i)DM") ~ "DM")) |>
select(channel, everything(),-"...1",-"...10",-"...12")
combo_data |>
group_by(channel) |>
summarize(form_fill_numbers=n()) |>
arrange(desc(form_fill_numbers)) -> summary_table
write_csv(summary_table, "form_fill_counts_by_channel.csv")
write_csv(combo_data,"all_form_fill.csv", na = "")
folder_path <- '~/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
sms_combo_data <- purrr::map_df(filenames,
~read.csv(.x, stringsAsFactors = FALSE) %>% mutate(filename = .x))
list_whole <- sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Master') ~ 'Masterlist',
str_detect(filename, 'Print Shop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE')) |>
mutate(phone_number = sub("^1", "", phone_number))
sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis\\(01-03-24~01-07-24\\)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) -> sms_combo_data
library(dplyr)
sms_combo_data <- sms_combo_data |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Masterlist') ~ 'Masterlist',
str_detect(filename, 'Print Shop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE'
))
sms_combo_data |>
filter(device!='bot') |>
group_by(list_name) |>
summarise(counts=n()) |>
arrange(counts)
sms_combo_data$phone_number <- sub("^1", "", sms_combo_data$phone_number)
sms_combo_data |>
filter(device!='bot') -> sms_combo_data
write_csv(sms_combo_data, "click_combo_data.csv")
sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis\\(01-03-24~01-07-24\\)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) -> sms_combo_data
library(dplyr)
sms_combo_data <- sms_combo_data |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Masterlist') ~ 'Masterlist',
str_detect(filename, 'PrintShop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE'
))
sms_combo_data$phone_number <- sub("^1", "", sms_combo_data$phone_number)
sms_combo_data |>
filter(device!='bot') -> sms_combo_data
write_csv(sms_combo_data, "click_combo_data.csv")
sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis\\(01-03-24~01-07-24\\)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) -> sms_combo_data
library(dplyr)
sms_combo_data <- sms_combo_data |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Masterlist') ~ 'Masterlist',
str_detect(filename, 'PrintShop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE'
))
sms_combo_data |>
filter(device!='bot') |>
group_by(list_name) |>
summarise(counts=n()) |>
arrange(counts)
sms_combo_data$phone_number <- sub("^1", "", sms_combo_data$phone_number)
sms_combo_data |>
filter(device!='bot') -> sms_combo_data
write_csv(sms_combo_data, "click_combo_data.csv")
write_csv(sms_combo_data, "click_combo_data.csv", na="")
sms_combo_data$phone_number <- sub("^1", "", sms_combo_data$phone_number)
sms_combo_data |>
filter(device!='bot') -> sms_combo_data
write_csv(sms_combo_data, "click_combo_data.csv", na="")
View(sms_combo_data)
sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis\\(01-03-24~01-07-24\\)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) -> sms_combo_data
library(dplyr)
sms_combo_data <- sms_combo_data |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Masterlist') ~ 'Masterlist',
str_detect(filename, 'PrintShop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A$') ~ 'Copy A',
str_detect(filename,'B$')~'Copy B',
TRUE ~ 'FALSE'
))
View(sms_combo_data)
sms_combo_data$phone_number <- sub("^1", "", sms_combo_data$phone_number)
sms_combo_data |>
filter(device!='bot') -> sms_combo_data
write_csv(sms_combo_data, "click_combo_data.csv", na="")
sms_combo_data |>
filter(device!='bot') |>
group_by(list_name) |>
summarise(counts=n()) |>
arrange(counts)
folder_path <- '~/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
sms_combo_data <- purrr::map_df(filenames,
~read.csv(.x, stringsAsFactors = FALSE) %>% mutate(filename = .x))
list_whole <- sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Master') ~ 'Masterlist',
str_detect(filename, 'Print Shop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE')) |>
mutate(phone_number = sub("^1", "", phone_number))
knitr::opts_chunk$set(echo = TRUE)
folder_path <- '~raw data'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
sms_combo_data <- purrr::map_df(filenames,
~read.csv(.x, stringsAsFactors = FALSE) %>% mutate(filename = .x))
folder_path <- '~/Performance Analysis/SMS/SMS Analysis (01-09-2024)/raw data'
filenames <- list.files(folder_path, pattern = "\\.csv$", full.names = TRUE)
sms_combo_data <- purrr::map_df(filenames,
~read.csv(.x, stringsAsFactors = FALSE) %>% mutate(filename = .x))
list_whole <- sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis(01-24-24~01-28-24)/Raw-Data-Jan-SMS/list/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Master') ~ 'Masterlist',
str_detect(filename, 'Print Shop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE')) |>
mutate(phone_number = sub("^1", "", phone_number))
View(list_whole)
list_whole <- sms_combo_data |>
mutate(filename = str_replace(filename, '^C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis (01-09-2024)/raw data/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Master') ~ 'Masterlist',
str_detect(filename, 'Print Shop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A') ~ 'Copy A',
str_detect(filename,'B')~'Copy B',
TRUE ~ 'FALSE')) |>
mutate(phone_number = sub("^1", "", phone_number))
View(list_whole)
sms_combo_data |>
mutate(filename = str_replace(filename, 'C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis (01-09-2024)/raw data/', '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) -> sms_combo_data
sms_combo_data <- sms_combo_data |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Masterlist') ~ 'Masterlist',
str_detect(filename, 'PrintShop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A$') ~ 'Copy A',
str_detect(filename,'B$')~'Copy B',
TRUE ~ 'FALSE'
))
View(sms_combo_data)
sms_combo_data |>
mutate(filename = str_replace(filename, "C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis (01-09-2024)/raw data/", '')) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) -> sms_combo_data
sms_combo_data <- sms_combo_data |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Masterlist') ~ 'Masterlist',
str_detect(filename, 'PrintShop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A$') ~ 'Copy A',
str_detect(filename,'B$')~'Copy B',
TRUE ~ 'FALSE'
))
View(sms_combo_data)
sms_combo_data |>
mutate(filename = str_replace(filename, "C:/Users/skt/Documents/Performance Analysis/SMS/SMS Analysis (01-09-2024)/raw data/", "")) |>
mutate(filename = str_replace(filename,'\\(2\\)\\.csv$','')) |>
mutate(filename = str_replace(filename,'.csv$','')) -> sms_combo_data
sms_combo_data <- sms_combo_data |>
mutate(list_name = case_when( str_detect(filename, 'Brizo') ~ 'Brizo',
str_detect(filename, 'Masterlist') ~ 'Masterlist',
str_detect(filename, 'PrintShop') ~ 'Printshop',
TRUE ~ 'FALSE'
)) |>
mutate(copy_name = case_when( str_detect(filename, 'A$') ~ 'Copy A',
str_detect(filename,'B$')~'Copy B',
TRUE ~ 'FALSE'
))
View(sms_combo_data)
sms_combo_data$phone_number <- sub("^1", "", sms_combo_data$phone_number)
sms_combo_data |>
filter(device!='bot') -> sms_combo_data
write_csv(sms_combo_data, "click_combo_data.csv", na="")
